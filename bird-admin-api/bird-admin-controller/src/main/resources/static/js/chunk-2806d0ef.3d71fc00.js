(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2806d0ef"],{c384:function(e,t,s){"use strict";var i=s("fb9a"),a=s.n(i);a.a},f833:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-grid crud-demo"},[s("div",{staticClass:"p-col-12"},[s("div",{staticClass:"card"},[s("Toast"),s("Toolbar",{staticClass:"p-mb-4"},[s("template",{slot:"left"},[s("Button",{staticClass:"p-button-success p-mr-2",attrs:{label:"New",icon:"pi pi-plus"},on:{click:e.openNew}}),s("Button",{staticClass:"p-button-danger",attrs:{label:"Delete",icon:"pi pi-trash",disabled:!e.selectedMenus||!e.selectedMenus.length},on:{click:e.confirmDeleteSelected}})],1),s("template",{slot:"right"},[s("FileUpload",{staticClass:"p-mr-2 p-d-inline-block",attrs:{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import"}}),s("Button",{staticClass:"p-button-help",attrs:{label:"Export",icon:"pi pi-upload"},on:{click:function(t){return e.exportCSV(t)}}})],1)],2),s("DataTable",{ref:"dt",attrs:{value:e.menus,selection:e.selectedMenus,dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},on:{"update:selection":function(t){e.selectedMenus=t}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"table-header"},[s("h5",{staticClass:"p-m-0"},[e._v("Manage Menus")]),s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{placeholder:"Search..."},model:{value:e.filters["global"],callback:function(t){e.$set(e.filters,"global",t)},expression:"filters['global']"}})],1)])]},proxy:!0}])},[s("Column",{attrs:{selectionMode:"multiple",headerStyle:"width: 3rem"}}),s("Column",{attrs:{field:"id",header:"id",sortable:""}}),s("Column",{attrs:{field:"label",header:"label",sortable:""}}),s("Column",{attrs:{field:"toJump",header:"toJump",sortable:""}}),s("Column",{attrs:{field:"permission",header:"permission",sortable:""}}),s("Column",{attrs:{field:"role",header:"role",sortable:""}}),s("Column",{attrs:{field:"parentId",header:"parentId",sortable:""}}),s("Column",{scopedSlots:e._u([{key:"body",fn:function(t){return[s("Button",{staticClass:"p-button-rounded p-button-success p-mr-2",attrs:{icon:"pi pi-pencil"},on:{click:function(s){return e.editMenu(t.data)}}}),s("Button",{staticClass:"p-button-rounded p-button-warning",attrs:{icon:"pi pi-trash"},on:{click:function(s){return e.confirmDeleteMenu(t.data)}}})]}}])})],1),s("Dialog",{staticClass:"p-fluid",style:{width:"450px"},attrs:{visible:e.productDialog,header:"User Details",modal:!0},on:{"update:visible":function(t){e.productDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"Cancel",icon:"pi pi-times"},on:{click:e.hideDialog}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Save",icon:"pi pi-check"},on:{click:e.saveMenu}})]},proxy:!0}])},[e.menu.image?s("img",{staticClass:"product-image",attrs:{src:"assets/layout/images/product/"+e.menu.image,alt:e.menu.image}}):e._e(),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"label"}},[e._v("label")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.menu.label},attrs:{id:"label",required:"true",autofocus:""},model:{value:e.menu.label,callback:function(t){e.$set(e.menu,"label","string"===typeof t?t.trim():t)},expression:"menu.label"}}),e.submitted&&!e.menu.label?s("small",{staticClass:"p-invalid"},[e._v("label is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"toJump"}},[e._v("toJump")]),s("InputText",{class:{"p-invalid":e.submitted},attrs:{id:"toJump",autofocus:""},model:{value:e.menu.toJump,callback:function(t){e.$set(e.menu,"toJump","string"===typeof t?t.trim():t)},expression:"menu.toJump"}}),e.submitted&&!e.menu.toJump?s("small",{staticClass:"p-invalid"},[e._v("toJump is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"permission"}},[e._v("permission")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.menu.permission},attrs:{id:"permission",autofocus:""},model:{value:e.menu.permission,callback:function(t){e.$set(e.menu,"permission","string"===typeof t?t.trim():t)},expression:"menu.permission"}}),e.submitted&&!e.menu.permission?s("small",{staticClass:"p-invalid"},[e._v("permission is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"role"}},[e._v("role")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.menu.role},attrs:{id:"role",autofocus:""},model:{value:e.menu.role,callback:function(t){e.$set(e.menu,"role","string"===typeof t?t.trim():t)},expression:"menu.role"}}),e.submitted&&!e.menu.role?s("small",{staticClass:"p-invalid"},[e._v("role is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"parentId"}},[e._v("parentId")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.menu.parentId},attrs:{id:"parentId",autofocus:""},model:{value:e.menu.parentId,callback:function(t){e.$set(e.menu,"parentId","string"===typeof t?t.trim():t)},expression:"menu.parentId"}}),e.submitted&&!e.menu.parentId?s("small",{staticClass:"p-invalid"},[e._v("parentId is required.")]):e._e()],1)]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteMenu}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.menu?s("span",[e._v("Are you sure you want to delete "),s("b",[e._v(e._s(e.menu.userName))]),e._v("?")]):e._e()])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductsDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductsDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductsDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteSelectedProducts}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.menu?s("span",[e._v("Are you sure you want to delete the selected products?")]):e._e()])])],1)])])},a=[],l=(s("bc3a"),s("b775"));class n{getMenus(){return Object(l["a"])({url:"/menu/list",method:"get"})}saveMenu(e){return Object(l["a"])({url:"/menu/save",method:"post",data:e})}deleteMenu(e){return Object(l["a"])({url:"/menu/delete",method:"post",data:e})}deleteMenuBatch(e){return Object(l["a"])({url:"/menu/deleteBatch",method:"post",data:e})}}var o={data(){return{menus:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,menu:{},selectedMenus:null,filters:{},submitted:!1}},menuService:null,created(){this.menuService=new n},mounted(){this.menuService.getMenus().then(e=>this.menus=e.data.data)},methods:{handleAvatarSuccess(e){this.menu.icon=e.data[0]},openNew(){this.menu={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveMenu(){this.submitted=!0,this.menuService.saveMenu(this.menu),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.productDialog=!1,this.menu={},this.$router.go(0)},editMenu(e){this.menu={...e},this.productDialog=!0},confirmDeleteMenu(e){this.menu=e,this.deleteProductDialog=!0},deleteMenu(){this.menus=this.menus.filter(e=>e.id!==this.menu.id),this.menuService.deleteMenu(this.menu),this.deleteProductDialog=!1,this.menu={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(e){let t=-1;for(let s=0;s<this.menus.length;s++)if(this.menus[s].id===e){t=s;break}return t},createId(){let e="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<5;s++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.menus=this.menus.filter(e=>!this.selectedMenus.includes(e)),this.menuService.deleteMenuBatch(this.selectedMenus),this.deleteProductsDialog=!1,this.selectedMenus=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},onUpload(){this.$toast.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})}}},u=o,r=(s("c384"),s("2877")),c=Object(r["a"])(u,i,a,!1,null,"3e72152c",null);t["default"]=c.exports},fb9a:function(e,t,s){}}]);
//# sourceMappingURL=chunk-2806d0ef.3d71fc00.js.map