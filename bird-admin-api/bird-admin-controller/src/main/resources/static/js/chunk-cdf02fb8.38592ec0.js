(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdf02fb8"],{"44b2":function(e,t,s){},5187:function(e,t,s){"use strict";var o=s("44b2"),i=s.n(o);i.a},"93ee":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-grid crud-demo"},[s("div",{staticClass:"p-col-12"},[s("div",{staticClass:"card"},[s("Toast"),s("DataTable",{ref:"dt",attrs:{value:e.logs,selection:e.selectedProducts,dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},on:{"update:selection":function(t){e.selectedProducts=t}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"table-header"},[s("h5",{staticClass:"p-m-0"},[e._v("Operator Log")]),s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{placeholder:"Search..."},model:{value:e.filters["global"],callback:function(t){e.$set(e.filters,"global",t)},expression:"filters['global']"}})],1)])]},proxy:!0}])},[s("Column",{attrs:{selectionMode:"multiple",headerStyle:"width: 3rem"}}),s("Column",{attrs:{field:"id",header:"id",sortable:""}}),s("Column",{attrs:{field:"operatorUserName",header:"operatorUserName",sortable:""}}),s("Column",{attrs:{field:"changeBefore",header:"changeBefore",sortable:""}}),s("Column",{attrs:{field:"changeAfter",header:"changeAfter",sortable:""}}),s("Column",{attrs:{field:"content",header:"content",sortable:""}})],1),s("Dialog",{staticClass:"p-fluid",style:{width:"450px"},attrs:{visible:e.productDialog,header:"Product Details",modal:!0},on:{"update:visible":function(t){e.productDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"Cancel",icon:"pi pi-times"},on:{click:e.hideDialog}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Save",icon:"pi pi-check"},on:{click:e.saveProduct}})]},proxy:!0}])},[e.role.image?s("img",{staticClass:"product-image",attrs:{src:"assets/layout/images/product/"+e.role.image,alt:e.role.image}}):e._e(),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"name"}},[e._v("Name")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.role.name},attrs:{id:"name",required:"true",autofocus:""},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name","string"===typeof t?t.trim():t)},expression:"role.name"}}),e.submitted&&!e.role.name?s("small",{staticClass:"p-invalid"},[e._v("Name is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"descption"}},[e._v("Description")]),s("Textarea",{attrs:{id:"descption",required:"true",rows:"3",cols:"20"},model:{value:e.role.descption,callback:function(t){e.$set(e.role,"descption",t)},expression:"role.descption"}})],1),s("div",{staticClass:"p-formgrid p-grid"},[s("div",{staticClass:"p-field p-col"},[s("label",{attrs:{for:"permissions"}},[e._v("permissions")]),s("Textarea",{attrs:{id:"permissions",required:"true",rows:"3",cols:"20"},model:{value:e.role.permissions,callback:function(t){e.$set(e.role,"permissions",t)},expression:"role.permissions"}})],1)])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteProduct}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.role?s("span",[e._v("Are you sure you want to delete "),s("b",[e._v(e._s(e.role.name))]),e._v("?")]):e._e()])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductsDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductsDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductsDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteSelectedProducts}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.role?s("span",[e._v("Are you sure you want to delete the selected products?")]):e._e()])])],1)])])},i=[],l=(s("bc3a"),s("b775"));class a{list(){return Object(l["a"])({url:"/operatorLog/all",method:"get"})}}var r={data(){return{logs:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,role:{},selectedProducts:null,filters:{},submitted:!1}},operatorLogService:null,created(){this.operatorLogService=new a},mounted(){this.operatorLogService.list().then(e=>this.logs=e.data.data)},methods:{openNew(){this.role={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.roleService.saveRole(this.role),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.productDialog=!1,this.role={},this.$router.go(0)},editRole(e){this.role={...e},this.productDialog=!0},confirmDeleteProduct(e){this.role=e,this.deleteProductDialog=!0},deleteProduct(){this.logs=this.logs.filter(e=>e.id!==this.role.id),this.roleService.deleteRole(this.role),this.deleteProductDialog=!1,this.role={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(e){let t=-1;for(let s=0;s<this.logs.length;s++)if(this.logs[s].id===e){t=s;break}return t},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.logs=this.logs.filter(e=>!this.selectedProducts.includes(e)),this.roleService.deleteRoleBatch(this.selectedProducts),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}}},c=r,d=(s("5187"),s("2877")),n=Object(d["a"])(c,o,i,!1,null,"2bc9dce0",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-cdf02fb8.38592ec0.js.map