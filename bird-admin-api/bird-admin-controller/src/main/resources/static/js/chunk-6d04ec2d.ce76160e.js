(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d04ec2d"],{2485:function(e,t,s){"use strict";var a=s("a46c"),r=s.n(a);r.a},a46c:function(e,t,s){},c841:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s("bc3a");var a=s("b775");class r{getUsers(){return Object(a["a"])({url:"/user/all",method:"get"})}saveUser(e){return Object(a["a"])({url:"/user/save",method:"post",data:e})}deleteUser(e){return Object(a["a"])({url:"/user/delete",method:"post",data:e})}deleteUserBatch(e){return Object(a["a"])({url:"/user/deleteBatch",method:"post",data:e})}}},e382:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-grid crud-demo"},[s("div",{staticClass:"p-col-12"},[s("div",{staticClass:"card"},[s("Toast"),s("Toolbar",{staticClass:"p-mb-4"},[s("template",{slot:"left"},[s("Button",{staticClass:"p-button-success p-mr-2",attrs:{label:"New",icon:"pi pi-plus"},on:{click:e.openNew}}),s("Button",{staticClass:"p-button-danger",attrs:{label:"Delete",icon:"pi pi-trash",disabled:!e.selectedUsers||!e.selectedUsers.length},on:{click:e.confirmDeleteSelected}})],1),s("template",{slot:"right"},[s("FileUpload",{staticClass:"p-mr-2 p-d-inline-block",attrs:{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import"}}),s("Button",{staticClass:"p-button-help",attrs:{label:"Export",icon:"pi pi-upload"},on:{click:function(t){return e.exportCSV(t)}}})],1)],2),s("DataTable",{ref:"dt",attrs:{value:e.users,selection:e.selectedUsers,dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},on:{"update:selection":function(t){e.selectedUsers=t}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"table-header"},[s("h5",{staticClass:"p-m-0"},[e._v("Manage Users")]),s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{placeholder:"Search..."},model:{value:e.filters["global"],callback:function(t){e.$set(e.filters,"global",t)},expression:"filters['global']"}})],1)])]},proxy:!0}])},[s("Column",{attrs:{selectionMode:"multiple",headerStyle:"width: 3rem"}}),s("Column",{attrs:{field:"id",header:"id",sortable:""}}),s("Column",{attrs:{field:"userName",header:"userName",sortable:""}}),s("Column",{attrs:{field:"passWord",header:"passWord",sortable:""}}),s("Column",{attrs:{header:"icon"},scopedSlots:e._u([{key:"body",fn:function(e){return[s("img",{staticClass:"product-image",attrs:{src:e.data.icon,alt:e.data.icon}})]}}])}),s("Column",{attrs:{field:"dateAdd",header:"dateAdd",sortable:""}}),s("Column",{attrs:{field:"dateUpdate",header:"dateUpdate",sortable:""}}),s("Column",{attrs:{field:"roles",header:"roles",sortable:""}}),s("Column",{scopedSlots:e._u([{key:"body",fn:function(t){return[s("Button",{staticClass:"p-button-rounded p-button-success p-mr-2",attrs:{icon:"pi pi-pencil"},on:{click:function(s){return e.editProduct(t.data)}}}),s("Button",{staticClass:"p-button-rounded p-button-warning",attrs:{icon:"pi pi-trash"},on:{click:function(s){return e.confirmDeleteProduct(t.data)}}})]}}])})],1),s("Dialog",{staticClass:"p-fluid",style:{width:"450px"},attrs:{visible:e.productDialog,header:"User Details",modal:!0},on:{"update:visible":function(t){e.productDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"Cancel",icon:"pi pi-times"},on:{click:e.hideDialog}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Save",icon:"pi pi-check"},on:{click:e.saveProduct}})]},proxy:!0}])},[e.user.image?s("img",{staticClass:"product-image",attrs:{src:"assets/layout/images/product/"+e.user.image,alt:e.user.image}}):e._e(),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"userName"}},[e._v("userName")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.user.userName},attrs:{id:"userName",required:"true",autofocus:""},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName","string"===typeof t?t.trim():t)},expression:"user.userName"}}),e.submitted&&!e.user.userName?s("small",{staticClass:"p-invalid"},[e._v("userName is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"passWord"}},[e._v("passWord")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.user.passWord},attrs:{id:"passWord",required:"true",autofocus:""},model:{value:e.user.passWord,callback:function(t){e.$set(e.user,"passWord","string"===typeof t?t.trim():t)},expression:"user.passWord"}}),e.submitted&&!e.user.passWord?s("small",{staticClass:"p-invalid"},[e._v("passWord is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"icon"}},[e._v("icon")]),s("el-upload",{staticClass:"avatar-uploader",attrs:{id:"icon",action:e.url,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.user.icon?s("img",{staticClass:"avatar",attrs:{src:e.user.icon}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"roles"}},[e._v("roles")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.user.roles},attrs:{id:"roles",required:"true",autofocus:""},model:{value:e.user.roles,callback:function(t){e.$set(e.user,"roles","string"===typeof t?t.trim():t)},expression:"user.roles"}}),e.submitted&&!e.user.roles?s("small",{staticClass:"p-invalid"},[e._v("roles is required.")]):e._e()],1)]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteProduct}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.user?s("span",[e._v("Are you sure you want to delete "),s("b",[e._v(e._s(e.user.userName))]),e._v("?")]):e._e()])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductsDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductsDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductsDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteSelectedProducts}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.user?s("span",[e._v("Are you sure you want to delete the selected products?")]):e._e()])])],1)])])},r=[],i=s("c841"),l=s("c59a"),o={data(){return{url:null,users:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,user:{},selectedUsers:null,filters:{},submitted:!1}},userService:null,created(){this.userService=new i["a"]},mounted(){this.userService.getUsers().then(e=>this.users=e.data.data),this.url=l["a"].BASE_URL+"/file/upload"},methods:{handleAvatarSuccess(e){this.user.icon=e.data},beforeAvatarUpload(e){return!0},openNew(){this.user={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.userService.saveUser(this.user),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.productDialog=!1,this.user={},this.$router.go(0)},editProduct(e){this.user={...e},this.productDialog=!0},confirmDeleteProduct(e){this.user=e,this.deleteProductDialog=!0},deleteProduct(){this.users=this.users.filter(e=>e.id!==this.user.id),this.userService.deleteUser(this.user),this.deleteProductDialog=!1,this.user={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(e){let t=-1;for(let s=0;s<this.users.length;s++)if(this.users[s].id===e){t=s;break}return t},createId(){let e="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<5;s++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.users=this.users.filter(e=>!this.selectedUsers.includes(e)),this.userService.deleteUserBatch(this.selectedUsers),this.deleteProductsDialog=!1,this.selectedUsers=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},onUpload(){this.$toast.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})}}},u=o,c=(s("2485"),s("2877")),d=Object(c["a"])(u,a,r,!1,null,"d9af336a",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-6d04ec2d.ce76160e.js.map