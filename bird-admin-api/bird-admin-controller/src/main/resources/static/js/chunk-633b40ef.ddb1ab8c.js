(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-633b40ef"],{"6c35":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-grid crud-demo"},[s("div",{staticClass:"p-col-12"},[s("div",{staticClass:"card"},[s("Toast"),s("Toolbar",{staticClass:"p-mb-4"},[s("template",{slot:"left"},[s("Button",{staticClass:"p-button-success p-mr-2",attrs:{label:"New",icon:"pi pi-plus"},on:{click:e.openNew}}),s("Button",{staticClass:"p-button-danger",attrs:{label:"Delete",icon:"pi pi-trash",disabled:!e.selectedProducts||!e.selectedProducts.length},on:{click:e.confirmDeleteSelected}})],1),s("template",{slot:"right"},[s("FileUpload",{staticClass:"p-mr-2 p-d-inline-block",attrs:{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import"}}),s("Button",{staticClass:"p-button-help",attrs:{label:"Export",icon:"pi pi-upload"},on:{click:function(t){return e.exportCSV(t)}}})],1)],2),s("DataTable",{ref:"dt",attrs:{value:e.roles,selection:e.selectedProducts,dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},on:{"update:selection":function(t){e.selectedProducts=t}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"table-header"},[s("h5",{staticClass:"p-m-0"},[e._v("Manage Roles")]),s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{placeholder:"Search..."},model:{value:e.filters["global"],callback:function(t){e.$set(e.filters,"global",t)},expression:"filters['global']"}})],1)])]},proxy:!0}])},[s("Column",{attrs:{selectionMode:"multiple",headerStyle:"width: 3rem"}}),s("Column",{attrs:{field:"id",header:"id",sortable:""}}),s("Column",{attrs:{field:"name",header:"name",sortable:""}}),s("Column",{attrs:{field:"descption",header:"descption",sortable:""}}),s("Column",{attrs:{field:"dateAdd",header:"dateAdd",sortable:""}}),s("Column",{attrs:{field:"dateUpdate",header:"dateUpdate",sortable:""}}),s("Column",{attrs:{field:"permissions",header:"permissions",sortable:""}}),s("Column",{scopedSlots:e._u([{key:"body",fn:function(t){return[s("Button",{staticClass:"p-button-rounded p-button-success p-mr-2",attrs:{icon:"pi pi-pencil"},on:{click:function(s){return e.editRole(t.data)}}}),s("Button",{staticClass:"p-button-rounded p-button-warning",attrs:{icon:"pi pi-trash"},on:{click:function(s){return e.confirmDeleteProduct(t.data)}}})]}}])})],1),s("Dialog",{staticClass:"p-fluid",style:{width:"450px"},attrs:{visible:e.productDialog,header:"Product Details",modal:!0},on:{"update:visible":function(t){e.productDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"Cancel",icon:"pi pi-times"},on:{click:e.hideDialog}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Save",icon:"pi pi-check"},on:{click:e.saveProduct}})]},proxy:!0}])},[e.role.image?s("img",{staticClass:"product-image",attrs:{src:"assets/layout/images/product/"+e.role.image,alt:e.role.image}}):e._e(),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"name"}},[e._v("Name")]),s("InputText",{class:{"p-invalid":e.submitted&&!e.role.name},attrs:{id:"name",required:"true",autofocus:""},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name","string"===typeof t?t.trim():t)},expression:"role.name"}}),e.submitted&&!e.role.name?s("small",{staticClass:"p-invalid"},[e._v("Name is required.")]):e._e()],1),s("div",{staticClass:"p-field"},[s("label",{attrs:{for:"descption"}},[e._v("Description")]),s("Textarea",{attrs:{id:"descption",required:"true",rows:"3",cols:"20"},model:{value:e.role.descption,callback:function(t){e.$set(e.role,"descption",t)},expression:"role.descption"}})],1),s("div",{staticClass:"p-formgrid p-grid"},[s("div",{staticClass:"p-field p-col"},[s("label",{attrs:{for:"permissions"}},[e._v("permissions")]),s("Textarea",{attrs:{id:"permissions",required:"true",rows:"3",cols:"20"},model:{value:e.role.permissions,callback:function(t){e.$set(e.role,"permissions",t)},expression:"role.permissions"}})],1)])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteProduct}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.role?s("span",[e._v("Are you sure you want to delete "),s("b",[e._v(e._s(e.role.name))]),e._v("?")]):e._e()])]),s("Dialog",{style:{width:"450px"},attrs:{visible:e.deleteProductsDialog,header:"Confirm",modal:!0},on:{"update:visible":function(t){e.deleteProductsDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("Button",{staticClass:"p-button-text",attrs:{label:"No",icon:"pi pi-times"},on:{click:function(t){e.deleteProductsDialog=!1}}}),s("Button",{staticClass:"p-button-text",attrs:{label:"Yes",icon:"pi pi-check"},on:{click:e.deleteSelectedProducts}})]},proxy:!0}])},[s("div",{staticClass:"confirmation-content"},[s("i",{staticClass:"pi pi-exclamation-triangle p-mr-3",staticStyle:{"font-size":"2rem"}}),e.role?s("span",[e._v("Are you sure you want to delete the selected products?")]):e._e()])])],1)])])},i=[],l=(s("bc3a"),s("b775"));class a{getRoles(){return Object(l["a"])({url:"/role/all",method:"get"})}saveRole(e){return Object(l["a"])({url:"/role/save",method:"post",data:e})}deleteRole(e){return Object(l["a"])({url:"/role/delete",method:"post",data:e})}deleteRoleBatch(e){return Object(l["a"])({url:"/role/deleteBatch",method:"post",data:e})}}var r={data(){return{roles:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,role:{},selectedProducts:null,filters:{},submitted:!1}},roleService:null,created(){this.roleService=new a},mounted(){this.roleService.getRoles().then(e=>this.roles=e.data.data)},methods:{openNew(){this.role={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.roleService.saveRole(this.role),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.productDialog=!1,this.role={},this.$router.go(0)},editRole(e){this.role={...e},this.productDialog=!0},confirmDeleteProduct(e){this.role=e,this.deleteProductDialog=!0},deleteProduct(){this.roles=this.roles.filter(e=>e.id!==this.role.id),this.roleService.deleteRole(this.role),this.deleteProductDialog=!1,this.role={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(e){let t=-1;for(let s=0;s<this.roles.length;s++)if(this.roles[s].id===e){t=s;break}return t},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.roles=this.roles.filter(e=>!this.selectedProducts.includes(e)),this.roleService.deleteRoleBatch(this.selectedProducts),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}}},c=r,d=(s("d6d3"),s("2877")),n=Object(d["a"])(c,o,i,!1,null,"06d572b2",null);t["default"]=n.exports},b800:function(e,t,s){},d6d3:function(e,t,s){"use strict";var o=s("b800"),i=s.n(o);i.a}}]);
//# sourceMappingURL=chunk-633b40ef.ddb1ab8c.js.map